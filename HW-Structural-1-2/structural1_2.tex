%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% QUESTION 2 (14 points)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\question[14]

We are developing a new mobile game with a "Base Builder" theme. 
Players can construct complex structures on a map. These structures are composed of smaller, individual building components.
For example, a {\tt Fortress} might be made of {\tt Walls}, {\tt Towers}, and a {\tt Gate}. 
A {\tt Tower} might, in turn, be made of a 
{\tt Base}, a {\tt Body}, and a {\tt Roof}.
	The game needs to perform operations on these structures, such as 
{\tt repair}, {\tt upgrade} or {\tt destroy}.

The challenge is that the game's logic needs to treat a single component (like a 
{\tt Wall} and a complete structure (like an entire 
{\tt Fortress} uniformly. 
For example, a player should be able to click on a single wall to repair it, but they should also be able to select the entire fortress and issue a single command to repair every component within it. Currently, the code has separate methods and complex conditional logic to handle single components versus groups, leading to a brittle and unmanageable codebase.


Suggest a structural design pattern 
to simplify the management of these in-game structures.

Initially, we come up with these classes:  Wall, Gate, Roof, Fortress, Tower, and Barracks.
The operations we have are 
{\tt repair()} and {\tt destroy() } among others.

In your design, 
show which class(es) or which objects plays which participant of the pattern.
(you may use notes on the UML class diagram or just a few sentences under the diagram.)

Address all items 1-5 on the title page of the homework.

Additional tasks:

{\bf Client Code: Behavior Simulation} 
What is expected in item 4(b).

Write code/pseudocode or class stubs to simulate 


\begin{itemize}
\item
	Building a Structure: Create a {\tt Fortress} object with several walls and then
		create a {\tt Tower} object with walls and a roof and make it a part of the Fortress.

\item

Repair Service(using Dependency Injection):
Write a method that takes an object of type 
		{\tt Wall}, {\tt Gate}, {\tt Roof}, {\tt Fortress}, {\tt Tower}, or {\tt Barracks}.
		This method calls the {\tt repair }
	operation on the object it receives 
without needing to know if it's a single wall or a more complex building.

		Simulate a repair process on a single {\tt Wall} object.

		Simulate a repair process on the entire {\tt Fortress} object.

\end{itemize}


{\bf Extensibility in Action:}

New Component: Imagine a new building component, a Cannon. A Cannon is a single piece of equipment that can be added to a Fortress. 

Challenge: Extend your design to support the Cannon without modifying your existing Repair Service method above.


Show how to add a  {\tt Cannon} to the existing hierarchy.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% YOUR ANSWER HERE
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% 1) (1 points)
% 2) (1 points)
% 3) (5 points)
% 4) (5 points)
% 5) (2 points)
\clearpage
